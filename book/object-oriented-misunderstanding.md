# 📘 객체지향의 사실과 오해
<img src="./객체지향의사실과오해.jpg" width="300" alt="객체지향의 사실과 오해">

[노션 : 책 노트 및 메모](https://www.notion.so/2a2b5f46b3c280bba62bfc055bad73d9?source=copy_link)

객체지향에 대한 컨셉, 배경을 차근차근 바닥부터 시작하기 좋은 책이다. 절차지향 패러다임에 익숙하여 객체지향과 관련된 나의 오해와 잘못된 설계 방식을 알아차릴 수 있었다. 완독 후 같은 저자가 쓴 [오브젝트: 코드로 이해하는 객체지향 설계](https://www.yes24.com/product/goods/74219491) 추천한다.

책에서 내용을 차근차근 풀어나가지만, 비슷한 내용이 여러 번 나오기에 하나하나 메모와 기록하며 정리하기 쉽지 않았다. 그래서 핵심 내용을 Q&A 형식과 간단히 메모하여 정리하였다.

### 01 협력하는 객체들의 공동체

- Q. 객체지향은 실세계를 모방해야 하는가

    A. 실세계를 모방할 순 없고, 실세계의 모방이라는 은유를 차용하여 객체지향의 컨셉을 이해할 수 있다. 
    현실 세계의 개념을 소프트웨어에서는 객체로 만들 수 있기에, 혹은 현실 세계에서는 말도 안 되는-현실에서는 전등 스스로 불을 끌 수 없지만 소프트웨어 세계에서는 가능하기에, 
    객체지향은 오히려 현실 세계를 모방해서 새로운 세계를 만드는 것에 가깝다.
    
- Q. 객체지향 패러다임에서 핵심은 무엇인가
    
    ‘객체’ 그리고 객체들의 ‘협력’이다. 클래스나 상속을 통해 객체지향을 지향하는 게 아니라 객체를 통해 지향하고, 객체는 협력으로 행동해야 적절하다.
    

### 02 이상한 나라의 객체

- Q. 객체지향 패러다임의 이점이 무엇인가
    
    A. 사람은 본능적으로 세상을 독립적이고 식별 가능한 객체의 집합으로 바라본다고 하는 연구 결과가 있듯, 객체지향을 적극 활용하면 우리는 소프트웨어를 직관적이고 쉽게 이해할 수 있다.
    
- Q. 객체에서 중요한 것은 무엇인가
    
    A. 우리는 객체를 상태(state), 행동(behavior), 식별자(identity)를 지닌 실체로 볼 수 있다. 이 중 가장 중요한 것은 행동이다.
    상태라는 데이터는 행동의 결과로 볼 수 있고, 행동으로 상태는 변경될 수 있다. 객체지향에서 가장 중요한 캡슐화에서 객체의 내부와 외부로 나눌 때, 행동만을 객체의 외부에 노출한다. 즉, 객체의 내부는 모르기에 객체의 상태가 변경되는 사실 또한 알 수 없다.
    
- Q. 동등성과 동일성의 차이는 무엇인가
    
    A. 문자열이나 숫자, 시간과 같이 값의 `상태가 불변적인`, 변하지 않는, 그러한 값을 가진 인스턴스가 2개 있을 때, 상태가 같다면 두 인스턴스는 동등하다. 어떤 것을 고르든 상관이 없다.
    하지만, Person 클래스의 인스턴스가 2개 있을 때, 값이 같다고 해도 동일하지 않다. 현재 A가 과거와는 다른 상태값(데이터)를 지닌 객체라고 해도 과거 A와 동일하다. A,B의 상태값이 모두, 서로 같다고 하여도 A와 B는 동일하다고 할 수 없다. 동일성은 식별자를 기준으로 객체가 같은지 판단할 수 있다. `상태가 가변적`이기에 상태 변경과 별개의 독립적인 식별자가 필요하다.
    

### 03 타입과 추상화

- Q. 추상화는 무엇인가
    
    A. 소프트웨어에서 추상화를 통해 복잡성을 극복할 수 있는데, 일반화를 통한 단순화와 불필요한 특징 제거를 통해 이룰 수 있다. 지하철 노선이라는 현실 세계를 추상화할 때, 지도에서 지하철 노선만을 단순화하여 나타낼 수 있을 것이고, 불필요하게 현실감있게 구불구불하게 노선을 나타내지 않고 그러한 특징을 제거할 수 있을 것이다.
    
- Q. 객체를 구현하기 위해 클래스를 사용하는 이유는 무엇인가
    
    A. 클래스는 정적이고, 객체는 동적이다. 객체지향에서 클래스보다 객체가 더 중요시하지만 인간의 인지 능력으로 시간에 따라 동적으로 변하는 객체는 복잡하다. 물론 이러한 특징(예시: 동적 바인딩) 덕분에, 유연한 설계를 할 수 있다.
    

### 04 역할, 책임, 협력

- Q. 객체들 간 협력이 왜 중요한가
    
    A. 객체는 개별적으로 존재하는 것보다 객체들 사이에 협력이 이뤄지는 것이 중요하다. 
    소프트웨어가 해결하려는 도메인을 처리하는 큰 시스템이 있을 때, 이를 여러 객체로 책임을 나눈다. 각 객체는 다른 객체들과 협력하며 시스템을 구성한다.
    

### 05 책임과 메세지

- Q. 메세지가 무엇이고 프로그래밍에서 메서드와 무엇이 다른가
    
    A. 메세지는 하나의 객체가 다른 객체에게 요청하기 위한 수단이다. 각 객체는 캡슐화 되어 자신의 책임 범위를 넘어서면 다른 객체에게 그 책임을 요청한다. 
    
    메서드는 메세지와 구별해야 하는데, 메세지를 처리하기 위해 메서드를 선택하는 것이다. 또, 메세지는 인터페이스에 가깝고 메서드는 구현에 가깝다.  다른 객체의 요청이 필요할 때 그 객체가 무엇을 하는지가 중요하지, 어떻게 하는지가 중요하지 않다. 
    
    다형성을 통해 타입이 같은 서로 다른 객체들의 메서드를 통해 메세지를 처리할 수 있다. → [전략 패턴](https://louis-devlog.tistory.com/23)
    
- Q. 훌륭한 메세지가 객체지향 설계의 기반이 될 수 있는 이유가 무엇인가
    
    A. 메세지는 다른 객체가 무엇을 하는지가 중요하지, 어떻게 하는지가 중요하지 않다. 송신자와 수신자를 약하게 연결시키고, 확장 가능하고 재사용 가능하게 만든다. 이런 식의 캡슐화가 적절하게 이뤄지면, 적절하게 ‘자율적인 객체’가 생성이 되고, 자율적인 객체끼리의 ‘협력’을 통해 객체지향 설계를 할 수 있다. 자율적인 객체는 자신의 책임을 알아서 처리하는 것이다.
    
- 오해 : 클래스 간 상속 관계가 객체지향 설계의 핵심 메커니즘이 아니다. 객체들이 주고받는 메세지, 즉 객체들의 협력으로부터 객체지향의 강력함이 나온다. 그러므로 객체가 메세지를 선택하는 것이 아니라, 메세지가 객체를 선택하게 해야 한다(헷갈리는 말이지만, 설계할 때 객체가 해야 할 행동을 고민하지 말고, 필요한 어떤 행동에 대해 객체를 선택해야 한다는 것이다).
- 오해 : Law of Demeter(디미터 법칙, 데메테르 법칙)은 단순히 .(dot)의 개수를 제한하는 것이 아니다. 객체에게 묻지 말고 시키라(자율적인 객체를 지향하자)는 원칙을 말하는 것이다.
- 오해 : 절차지향은 상태(데이터)와 행동(프로세스)를 분리하여 프로그래밍하고, 객체지향은 상태와 행동을 함께 프로그래밍한다. 즉, 객체지향 세계에서는 객체라는 틀 안에 데이터와 프로세스를 묶어놓는다.

### 06 객체 지도

- Q. 객체지향이 구조와 기능을 어떻게 조화시키는가
    
    A. 길을 찾을 때를 예를 들어서, 구조를 잘 정돈된 지도, 그리고 기능을 해당 길찾기만 유효한 약도라고 할 수 있다. 기능은 구조에 비해 간단하지만 변경에 약하며 범용적이지 않다. 불안정한 기능을 안정적인 구조에 담음으로써 변경의 파급효과를 최소화하는 것이 좋은 설계이고 이런 방식으로 구조와 기능을 조화시킬 수 있다. 198p 참고
    
    참고 : 구조는 도메인 모델, 기능은 유스케이스라고 볼 수 있다. 그리고 객체지향은 프로그램이 해결해야 할 도메인에 대해서, 도메인을 모델링하기 위한 기법과 도메인을 프로그래밍하기 위해 사용하는 기법이 동일하다. 도메인 모델링에서 사용한 객체와 개념을 프로그래밍 설계에서의 객체와 클래스로 매끄럽게 변환할 수 있다.
    

### 07 함께 모으기

→ 코드를 통해 설명하는 챕터

- 오해 : 대부분 설계는 코드로 구현하는 단계에서 변경된다. 설계 작업은 구현을 위한 스케치를 작성하는 단계다. 구현 그 자체일 수 없다. 다만, 객체가 어떤 책임을 수행해야 하는지 결정하고 책임을 수행하는데 필요한 객체의 속성을 결정해야 캡슐화를 잘 이룰 수 있고, 덕지덕지 코드를 안 붙일 수 있다. 흔히 개발할 때, 클래스의 필드 작성 후 메서드를 작성하는데, 메세지를 고민하고 메서드 작성 후 필요한 필드에 대해 작성해야 한다.

<!-- ## 목차

### 01 협력하는 객체들의 공동체

1. 협력하는 사람들
2. 역할, 책임, 협력
3. 협력 속에 사는 객체
4. 객체지향의 본질

### 02 이상한 나라의 객체

1. 객체지향과 인지 능력
2. 객체, 그리고 이상한 나라
3. 객체, 그리고 소프트웨어 나라
4. 기계로서의 객체
5. 행동이 상태를 결정한다
6. 은유와 객체

### 03 타입과 추상화

1. 추상화를 통한 복잡성 극복
2. 객체지향과 추상화
3. 타입
4. 타입의 계층
5. 정적 모델

### 04 역할, 책임, 협력

1. 협력
2. 책임
3. 역할
4. 객체의 모양을 결정하는 협력
5. 객체지향 설계 기법

### 05 책임과 메세지

1. 자율적인 책임
2. 메세지와 메서드
3. 메세지를 따라라
4. 객체 인터페이스
5. 인터페이스와 구현의 분리

### 06 객체 지도

1. 기능 설계 대 구조 설계
2. 두 가지 재료 : 기능과 구조
3. 안정적인 재료 : 구조
4. 불안정한 재료 : 기능
5. 재료 합치기 : 기능과 구조의 통합

### 07 함께 모으기 -->